<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Convertisseur GSM Bénin - Evisions</title>
    <style>
        :root {
            --primary-color: #1a73e8;
            --success-color: #34a853;
            --warning-color: #fbbc04;
            --error-color: #ea4335;
            --background-color: #f8f9fa;
            --surface-color: #ffffff;
            --text-primary: #202124;
            --text-secondary: #5f6368;
            --spacing-unit: 0.5rem;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }

        body {
            font-family: -apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--background-color);
            color: var(--text-primary);
            line-height: 1.5;
            min-height: 100vh;
            max-width: 100vw;
            overflow-x: hidden;
            padding-bottom: env(safe-area-inset-bottom);
        }

        /* Company Banner */
        .company-banner {
            background: linear-gradient(135deg, #1a73e8 0%, #0d47a1 100%);
            color: white;
            padding: 2rem 1rem;
            text-align: center;
            margin-bottom: 1rem;
        }

        .company-banner h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .company-banner p {
            font-size: 1rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        .services-list {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
        }

        .service-tag {
            background: rgba(255, 255, 255, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        /* App Container */
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 1rem;
        }

        /* Header */
        .header {
            padding: 1rem;
            background: var(--surface-color);
            border-radius: 16px;
            margin-bottom: 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 1.5rem;
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 0.5rem;
        }

        /* Info Banner */
        .info-banner {
            background: #e3f2fd;
            padding: 1rem;
            border-radius: 12px;
            margin-bottom: 1rem;
            border-left: 4px solid var(--primary-color);
        }

        /* Tabs */
        .tabs {
            display: flex;
            background: var(--surface-color);
            border-radius: 12px;
            padding: 0.25rem;
            margin-bottom: 1rem;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch;
        }

        .tab {
            flex: 1;
            min-width: 120px;
            padding: 0.75rem 1rem;
            border: none;
            background: none;
            color: var(--text-secondary);
            font-weight: 500;
            position: relative;
            transition: color 0.3s;
            scroll-snap-align: start;
            cursor: pointer;
        }

        .tab.active {
            color: var(--primary-color);
        }

        .tab.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 10%;
            right: 10%;
            height: 3px;
            background: var(--primary-color);
            border-radius: 1.5px;
        }

        /* Content Panels */
        .panel {
            display: none;
            background: var(--surface-color);
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 1rem;
            animation: slideIn 0.3s ease;
        }

        .panel.active {
            display: block;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Contact List */
        .contact-list {
            max-height: 70vh;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        .contact-item {
            display: flex;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #eee;
            animation: fadeIn 0.3s ease;
        }

        .contact-avatar {
            width: 48px;
            height: 48px;
            border-radius: 24px;
            background: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 500;
            margin-right: 1rem;
            flex-shrink: 0;
        }

        .contact-details {
            flex: 1;
            min-width: 0;
        }

        .contact-name {
            font-weight: 500;
            margin-bottom: 0.25rem;
        }

        .contact-numbers {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .contact-status {
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .status-warning {
            background: #fff3e0;
            color: #e65100;
        }

        .status-success {
            background: #e8f5e9;
            color: #2e7d32;
        }

        /* Buttons */
        .button {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            padding: 1rem;
            border: none;
            border-radius: 12px;
            background: var(--primary-color);
            color: white;
            font-size: 1rem;
            font-weight: 500;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .button:active {
            transform: scale(0.98);
        }

        .button.secondary {
            background: var(--success-color);
        }

        /* Progress Bar */
        .progress-bar {
            height: 4px;
            background: #e0e0e0;
            border-radius: 2px;
            overflow: hidden;
            margin: 1rem 0;
        }

        .progress-fill {
            height: 100%;
            background: var(--primary-color);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Input Fields */
        .input-area {
            margin-bottom: 1rem;
        }

        textarea {
            width: 100%;
            min-height: 120px;
            padding: 1rem;
            border: 1px solid #ddd;
            border-radius: 12px;
            font-size: 1rem;
            resize: vertical;
            margin-bottom: 1rem;
        }

        /* Checkbox Styles */
        .checkbox-wrapper {
            display: flex;
            align-items: center;
            padding: 1rem;
            background: #f5f5f5;
            border-radius: 12px;
            margin-bottom: 1rem;
        }

        .checkbox-wrapper input[type="checkbox"] {
            margin-right: 0.5rem;
            width: 20px;
            height: 20px;
        }

        /* Enhanced Footer Styles */
        .footer {
            text-align: center;
            padding: 2rem 1rem;
            background: linear-gradient(135deg, #788d01 0%, #292929 100%);
            margin-top: 2rem;
            border-radius: 16px;
            color: white;
            box-shadow: 0 4px 15px rgba(26, 115, 232, 0.2);
            position: relative;
            overflow: hidden;
        }

        .footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 0%, rgba(255,255,255,0.1) 50%, transparent 100%);
            animation: shine 3s infinite linear;
        }

        @keyframes shine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .footer p {
            margin-bottom: 0.8rem;
            opacity: 0.9;
            transition: opacity 0.3s;
            animation: fadeInUp 0.5s ease forwards;
            opacity: 0;
        }

        .footer strong {
            color: #FFD700;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .footer a {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            transition: all 0.3s ease;
            display: inline-block;
        }

        .footer a:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        /* Footer Popup Styles */
        .footer-popup {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translate(-50%, 200%);
            width: 90%;
            max-width: 500px;
            background: white;
            border-radius: 20px;
            padding: 1.5rem;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            z-index: 1000;
            opacity: 0;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            background: linear-gradient(135deg, #1a73e8 0%, #0d47a1 100%);
            color: white;
        }

        .footer-popup.show {
            transform: translate(-50%, 0);
            opacity: 1;
        }

        .footer-popup .close-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(255,255,255,0.1);
            border: none;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .footer-popup .close-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: rotate(90deg);
        }

        .footer-popup p {
            margin-bottom: 0.8rem;
            opacity: 0.9;
            animation: fadeInUp 0.5s ease forwards;
            opacity: 0;
        }

        .footer-popup strong {
            color: #FFD700;
            font-weight: 600;
        }

        .footer-popup a {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            transition: all 0.3s ease;
            display: inline-block;
        }

        .footer-popup a:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .footer p:nth-child(1), .footer-popup p:nth-child(1) { animation-delay: 0.1s; }
        .footer p:nth-child(2), .footer-popup p:nth-child(2) { animation-delay: 0.2s; }
        .footer p:nth-child(3), .footer-popup p:nth-child(3) { animation-delay: 0.3s; }
        .footer p:nth-child(4), .footer-popup p:nth-child(4) { animation-delay: 0.4s; }

        /* Toast Notifications */
        .toast {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 1rem 2rem;
            border-radius: 24px;
            font-weight: 500;
            z-index: 2000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .toast.visible {
            opacity: 1;
        }

        /* Bottom Sheet */
        .bottom-sheet {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--surface-color);
            border-radius: 20px 20px 0 0;
            padding: 1rem;
            transform: translateY(100%);
            transition: transform 0.3s ease;
            z-index: 1000;
        }

        .bottom-sheet.active {
            transform: translateY(0);
        }

        @media (max-width: 380px) {
            .contact-avatar {
                width: 40px;
                height: 40px;
            }
            
            .button {
                padding: 0.75rem;
            }
            
            .header h1 {font-size: 1.25rem;
            }
            
            .company-banner h2 {
                font-size: 1.25rem;
            }
            
            .service-tag {
                font-size: 0.8rem;
                padding: 0.4rem 0.8rem;
            }
        }
        /* Styles pour la section produits */
.products-section {
    margin-top: 1.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid rgba(255,255,255,0.1);
}

.product-card {
    background: rgba(255,255,255,0.1);
    border-radius: 12px;
    padding: 1rem;
    margin-bottom: 1rem;
    transition: transform 0.3s ease;
}

.product-card:hover {
    transform: translateY(-2px);
}

.product-card h4 {
    color: #FFD700;
    margin: 0 0 0.5rem 0;
    font-size: 1.1rem;
}

.product-card p {
    font-size: 0.9rem;
    margin-bottom: 1rem;
    opacity: 0.9;
}

.product-button {
    display: inline-block;
    background: rgba(255,255,255,0.2);
    color: white;
    text-decoration: none;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: 0.9rem;
    transition: all 0.3s ease;
}

.product-button:hover {
    background: rgba(255,255,255,0.3);
    transform: translateY(-1px);
}

/* Ajustement du footer popup pour les nouveaux contenus */
.footer-popup {
    max-height: 90vh;
    overflow-y: auto;
    padding: 2rem;
}

/* Styles pour la section produits du footer */
.footer {
    padding: 3rem 1rem;
}

.footer-products {
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 1px solid rgba(255,255,255,0.1);
}

.footer-products h3 {
    color: #FFD700;
    text-align: center;
    margin-bottom: 2rem;
    font-size: 1.5rem;
}

.product-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    max-width: 1200px;
    margin: 0 auto;
}

.footer-product-card {
    background: rgba(255,255,255,0.1);
    border-radius: 15px;
    padding: 1.5rem;
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
}

.footer-product-card:hover {
    transform: translateY(-5px);
    background: rgba(255,255,255,0.15);
    box-shadow: 0 10px 20px rgba(0,0,0,0.2);
}

.footer-product-card h4 {
    color: #FFD700;
    margin: 0 0 1rem 0;
    font-size: 1.2rem;
    font-weight: 600;
}

.footer-product-card p {
    flex-grow: 1;
    margin-bottom: 1.5rem;
    font-size: 0.95rem;
    line-height: 1.6;
    opacity: 0.9;
}

.footer-product-button {
    display: inline-block;
    background: rgba(255,255,255,0.2);
    color: white;
    text-decoration: none;
    padding: 0.8rem 1.5rem;
    border-radius: 25px;
    font-size: 0.95rem;
    font-weight: 500;
    transition: all 0.3s ease;
    text-align: center;
}

.footer-product-button:hover {
    background: rgba(255,255,255,0.3);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .product-grid {
        grid-template-columns: 1fr;
        padding: 0 1rem;
    }
    
    .footer-product-card {
        padding: 1.2rem;
    }
}

/* Animation des cartes */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.footer-product-card {
    animation: fadeInUp 0.6s ease forwards;
}

.footer-product-card:nth-child(1) { animation-delay: 0.1s; }
.footer-product-card:nth-child(2) { animation-delay: 0.2s; }
.footer-product-card:nth-child(3) { animation-delay: 0.3s; }
.footer-product-card:nth-child(4) { animation-delay: 0.4s; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Convertisseur GSM Bénin</h1>
            <div class="info-banner">
                Passage au format 10 chiffres : ajout du préfixe "01"<br>
                Ex: +22960374877 → +2290160374877
            </div>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="switchTab('contacts')">Contacts</button>
            <button class="tab" onclick="switchTab('manual')">Manuel</button>
            <button class="tab" onclick="switchTab('import')">Importer</button>
        </div>

        <!-- Panneau des contacts -->
        <div id="contacts-panel" class="panel active">
            <button class="button" onclick="requestContacts()">
                Accéder aux contacts
            </button>
            <div class="checkbox-wrapper">
                <input type="checkbox" id="autoUpdate" checked>
                <label for="autoUpdate">Mettre à jour automatiquement</label>
            </div>
            <div class="progress-bar">
                <div class="progress-fill"></div>
            </div>
            <div id="contacts-status"></div>
            <div class="contact-list" id="contacts-list"></div>
        </div>

        <!-- Panneau de saisie manuelle -->
        <div id="manual-panel" class="panel">
            <div class="input-area">
                <textarea placeholder="Entrez vos numéros (un par ligne)&#10;Exemple:&#10;+22960374877&#10;97123456"></textarea>
                <button class="button" onclick="convertManualNumbers()">Convertir</button>
            </div>
        </div>

        <!-- Panneau d'import -->
        <div id="import-panel" class="panel">
            <div class="file-upload-area">
                <button class="button" onclick="triggerFileInput()">
                    Choisir un fichier
                </button>
                <input type="file" id="file-input" accept=".csv,.vcf" style="display: none">
                <p class="text-center">Formats supportés : CSV, VCF</p>
            </div>
        </div>

<!-- Footer avec informations de contact -->
<div class="footer">
    <p>Développé par <strong>Evisions</strong></p>
    <p>Pour vos projets digitaux, contactez nous :</p>
    <p><a href="http://wa.me/22960374877">+229 60374877</a></p>

    <!-- Section des produits -->
    <div class="footer-products">
        <h3>Découvrez nos produits</h3>
        
        <div class="product-grid">
            <!-- Eduque moi -->
            <div class="footer-product-card">
                <h4>Eduque moi</h4>
                <p>L'IA développée par les Béninois pour les Béninois. Agent conversationnel capable de voir, comprendre du texte, analyser des documents et générer des images.</p>
                <a href="http://eduquemoi.netlify.app/" class="footer-product-button">
                    Visiter le site
                </a>
            </div>

            <!-- Ussd Code Bénin -->
            <div class="footer-product-card">
                <h4>Ussd Code Bénin</h4>
                <p>Application regroupant toutes les offres de MTN, Moov et Celtiis Bénin. Un véritable portefeuille de codes Ussd.</p>
                <a href="https://play.google.com/store/apps/details?id=com.evisions.mobilemoney&hl=fr" class="footer-product-button">
                    Télécharger
                </a>
            </div>

            <!-- Wifi zone -->
            <div class="footer-product-card">
                <h4>Installation Wifi zone</h4>
                <p>Système de vente de tickets, installation des antennes, déport.</p>
                <a href="https://techwifi.netlify.app/" class="footer-product-button">
                    En savoir plus
                </a>
            </div>

            <!-- Formation -->
            <div class="footer-product-card">
                <h4>Formation pratique</h4>
                <p>Informatique, Maintenance, Réseau, Développement...</p>
                <a href="http://wa.me/22960374877" class="footer-product-button">
                    Nous contacter
                </a>
            </div>
        </div>
    </div>
</div>
    </div>

<!-- Footer Popup -->
<div class="footer-popup" id="footer-popup">
    <button class="close-btn" onclick="closeFooterPopup()">×</button>
    <p>Développé par <strong>Evisions</strong></p>
    <p>Pour vos projets digitaux, contactez nous :</p>
    <p><a href="http://wa.me/22960374877">+229 60374877</a></p>
    
    <!-- Ajout des produits -->
    <div class="products-section">
        <h3 style="color: #FFD700; margin: 1rem 0;">Nos Produits</h3>
        
        <!-- Eduque moi -->
        <div class="product-card">
            <h4>Eduque moi</h4>
            <p>L'IA développée par les Béninois pour les Béninois. Agent conversationnel capable de voir, comprendre du texte, analyser des documents et générer des images. Idéal pour les professionnels, apprenants et particuliers.</p>
            <a href="http://eduquemoi.netlify.app/" class="product-button">Visiter le site</a>
        </div>

        <!-- Ussd Code Bénin -->
        <div class="product-card">
            <h4>Ussd Code Bénin</h4>
            <p>Application regroupant toutes les offres de MTN, Moov et Celtiis Bénin. Un véritable portefeuille de codes Ussd.</p>
            <a href="https://play.google.com/store/apps/details?id=com.evisions.mobilemoney&hl=fr" class="product-button">Télécharger</a>
        </div>

        <!-- Wifi zone -->
        <div class="product-card">
            <h4>Installation Wifi zone</h4>
            <p>Système de vente de tickets, installation des antennes, déport.</p>
            <a href="https://techwifi.netlify.app/" class="product-button">En savoir plus</a>
        </div>

        <!-- Formation -->
        <div class="product-card">
            <h4>Formation pratique</h4>
            <p>Informatique, Maintenance, Réseau, Développement...</p>
            <a href="http://wa.me/22960374877" class="product-button">Nous contacter</a>
        </div>
    </div>
</div>

    <!-- Bottom Sheet pour les actions -->
    <div class="bottom-sheet" id="actions-sheet">
        <div class="bottom-sheet-header">
            <h3>Actions disponibles</h3>
            <button onclick="closeBottomSheet()">Fermer</button>
        </div>
        <div class="action-buttons">
            <button class="button" onclick="updateContacts()">
                Mettre à jour les contacts
            </button>
            <button class="button secondary" onclick="exportContacts('csv')">
                Exporter en CSV
            </button>
            <button class="button secondary" onclick="exportContacts('vcf')">
                Exporter en VCF
            </button>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast" id="toast"></div>

    <script>
const _0x5c887a=_0x512a;(function(_0x4b665d,_0x5cde2b){const _0x40c7d8=_0x512a,_0x21d928=_0x4b665d();while(!![]){try{const _0x58488a=-parseInt(_0x40c7d8(0x176))/0x1+-parseInt(_0x40c7d8(0x172))/0x2+-parseInt(_0x40c7d8(0x133))/0x3*(-parseInt(_0x40c7d8(0x138))/0x4)+-parseInt(_0x40c7d8(0x115))/0x5*(-parseInt(_0x40c7d8(0x12c))/0x6)+-parseInt(_0x40c7d8(0x149))/0x7*(parseInt(_0x40c7d8(0x15c))/0x8)+parseInt(_0x40c7d8(0x112))/0x9+parseInt(_0x40c7d8(0x160))/0xa;if(_0x58488a===_0x5cde2b)break;else _0x21d928['push'](_0x21d928['shift']());}catch(_0x3edd06){_0x21d928['push'](_0x21d928['shift']());}}}(_0x909a,0x1ec6b));let currentContacts=[],processedContacts=[];function _0x909a(){const _0x4f34e3=['click','innerHTML','show','Export\x20en\x20','238260EpvRzL','push','status-warning','\x20contact(s)\x20mis\x20à\x20jour','34790gfNbIX','startsWith','BEGIN:VCARD\x0aVERSION:3.0\x0a','Contact','convertedNumber','contacts.vcf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22contact-status\x20','text/vcard','contacts-list','Tous\x20les\x20contacts\x20sont\x20déjà\x20à\x20jour','.progress-fill','-panel','getElementById','1108062PYYRpj','\x20contact(s)\x20importé(s)','trim','40DfDyGs','.csv','L\x27API\x20Contacts\x20n\x27est\x20pas\x20disponible\x20sur\x20votre\x20appareil','textContent','download','\x20terminé','change','name','active','tel','À\x20convertir','file-input','<div\x20class=\x22loading\x22>Chargement\x20des\x20contacts...</div>','footer-popup','split','includes','onload','TEL:','manual','Veuillez\x20entrer\x20au\x20moins\x20un\x20numéro','+229','\x27)\x22]','BEGIN:VCARD','182814hnbQJk','value','add','text/csv','END:VCARD\x0a','status-success','some','123TyRUbt','+22901','message','contacts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22contact-avatar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','1904zOUDLY','checked','visible','.tab[onclick=\x22switchTab(\x27','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20:\x20','slice','map','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22contact-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22contact-name\x22>','width','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','files','229','contact-item','div','original','wasConverted','readAsText','511ywLFHK','FN:','.tab','converted','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>Cette\x20fonction\x20nécessite\x20un\x20appareil\x20mobile\x20compatible.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','END:VCARD','Aucun\x20contact\x20sélectionné','\x22,\x22','contacts.csv','addEventListener','forEach','body','join','contacts-status','target','style','DOMContentLoaded','result','remove','21992jFPEAy','length','appendChild','Erreur:\x20','942700ZTBrHu','number','Sans\x20nom','endsWith','className','classList','replace','createObjectURL','needsUpdate','[onclick=\x22switchTab(\x27contacts\x27)\x22]','filter','createElement','#manual-panel\x20textarea','querySelector'];_0x909a=function(){return _0x4f34e3;};return _0x909a();}function switchTab(_0x421837){const _0x1de5e2=_0x512a;document['querySelectorAll'](_0x1de5e2(0x14b))[_0x1de5e2(0x153)](_0x265218=>{const _0x5de6ce=_0x1de5e2;_0x265218[_0x5de6ce(0x165)][_0x5de6ce(0x15b)](_0x5de6ce(0x11d));}),document['querySelectorAll']('.panel')[_0x1de5e2(0x153)](_0x29ae97=>{const _0x14f3eb=_0x1de5e2;_0x29ae97[_0x14f3eb(0x165)][_0x14f3eb(0x15b)]('active');}),document['querySelector'](_0x1de5e2(0x13b)+_0x421837+_0x1de5e2(0x12a))['classList'][_0x1de5e2(0x12e)](_0x1de5e2(0x11d)),document[_0x1de5e2(0x111)](_0x421837+_0x1de5e2(0x110))[_0x1de5e2(0x165)][_0x1de5e2(0x12e)]('active');}function showToast(_0x1607b9,_0x304fa4=0xbb8){const _0x2bd22f=_0x512a,_0xcdf7d4=document[_0x2bd22f(0x111)]('toast');_0xcdf7d4[_0x2bd22f(0x118)]=_0x1607b9,_0xcdf7d4['classList'][_0x2bd22f(0x12e)](_0x2bd22f(0x13a)),setTimeout(()=>{const _0x1d9768=_0x2bd22f;_0xcdf7d4[_0x1d9768(0x165)][_0x1d9768(0x15b)](_0x1d9768(0x13a));},_0x304fa4);}function convertPhoneNumber(_0xee3158){const _0x48ec8e=_0x512a;let _0x472165=_0xee3158[_0x48ec8e(0x166)](/[\s\-\(\)]/g,'');if(_0x472165[_0x48ec8e(0x124)]('01'))return{'number':_0x472165,'wasConverted':![]};if(_0x472165[_0x48ec8e(0x177)](_0x48ec8e(0x129)))return{'number':_0x472165[_0x48ec8e(0x13d)](0x0,0x4)+'01'+_0x472165[_0x48ec8e(0x13d)](0x4),'wasConverted':!![]};else{if(_0x472165[_0x48ec8e(0x177)](_0x48ec8e(0x143)))return{'number':'+'+_0x472165[_0x48ec8e(0x13d)](0x0,0x3)+'01'+_0x472165['slice'](0x3),'wasConverted':!![]};else{if(_0x472165[_0x48ec8e(0x15d)]===0x8)return{'number':_0x48ec8e(0x134)+_0x472165,'wasConverted':!![]};}}return{'number':_0x472165,'wasConverted':![],'isValid':![]};}function convertManualNumbers(){const _0x5beba3=_0x512a,_0x3310ee=document[_0x5beba3(0x16d)](_0x5beba3(0x16c))[_0x5beba3(0x12d)],_0x15ce73=_0x3310ee['split']('\x0a')['filter'](_0x1ce66c=>_0x1ce66c[_0x5beba3(0x114)]());if(_0x15ce73[_0x5beba3(0x15d)]===0x0){showToast(_0x5beba3(0x128));return;}const _0x4b64e1=_0x15ce73[_0x5beba3(0x13e)](_0x67cb31=>{const _0x3a1431=_0x5beba3,_0x2862f8=convertPhoneNumber(_0x67cb31[_0x3a1431(0x114)]());return _0x2862f8[_0x3a1431(0x161)];});document[_0x5beba3(0x16d)](_0x5beba3(0x16c))[_0x5beba3(0x12d)]=_0x4b64e1[_0x5beba3(0x155)]('\x0a'),showToast(_0x15ce73[_0x5beba3(0x15d)]+'\x20numéro(s)\x20traité(s)');}async function requestContacts(){const _0x393acf=_0x512a;try{const _0x3c0d6a=document[_0x393acf(0x111)](_0x393acf(0x10d));_0x3c0d6a[_0x393acf(0x16f)]=_0x393acf(0x121);if(!(_0x393acf(0x136)in navigator&&'ContactsManager'in window))throw new Error(_0x393acf(0x117));const _0x338651=[_0x393acf(0x11c),_0x393acf(0x11e)],_0x3bb11e={'multiple':!![]},_0x47cb66=await navigator[_0x393acf(0x136)]['select'](_0x338651,_0x3bb11e);processContacts(_0x47cb66);}catch(_0x1d37de){showToast(_0x393acf(0x15f)+_0x1d37de[_0x393acf(0x135)]),document[_0x393acf(0x111)]('contacts-status')[_0x393acf(0x16f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22error-box\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+_0x1d37de['message']+_0x393acf(0x14d);}}function processContacts(_0x22e7c5){const _0x12be9f=_0x512a;currentContacts=_0x22e7c5;const _0x96f930=document[_0x12be9f(0x111)](_0x12be9f(0x10d));_0x96f930[_0x12be9f(0x16f)]='';if(_0x22e7c5[_0x12be9f(0x15d)]===0x0){showToast(_0x12be9f(0x14f));return;}processedContacts=_0x22e7c5[_0x12be9f(0x13e)](_0x3ee0fb=>{const _0x5ae773=_0x12be9f,_0x13e64f=_0x3ee0fb['tel']||[],_0x572fd5=_0x13e64f['map'](_0x3a8649=>convertPhoneNumber(_0x3a8649)),_0x286e65=_0x572fd5[_0x5ae773(0x132)](_0x5e376b=>_0x5e376b[_0x5ae773(0x147)]),_0x12e993=document[_0x5ae773(0x16b)](_0x5ae773(0x145));return _0x12e993[_0x5ae773(0x164)]=_0x5ae773(0x144),_0x12e993[_0x5ae773(0x16f)]=_0x5ae773(0x137)+(_0x3ee0fb['name']&&_0x3ee0fb[_0x5ae773(0x11c)][0x0]?_0x3ee0fb[_0x5ae773(0x11c)][0x0][0x0]['toUpperCase']():'?')+_0x5ae773(0x13f)+(_0x3ee0fb[_0x5ae773(0x11c)]?_0x3ee0fb['name'][0x0]:_0x5ae773(0x162))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22contact-numbers\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x572fd5['map'](_0x4571bd=>_0x4571bd[_0x5ae773(0x161)])['join'](',\x20')+_0x5ae773(0x10b)+(_0x286e65?_0x5ae773(0x174):_0x5ae773(0x131))+_0x5ae773(0x141)+(_0x286e65?_0x5ae773(0x11f):'À\x20jour')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x96f930[_0x5ae773(0x15e)](_0x12e993),{'original':_0x3ee0fb,'converted':_0x572fd5,'needsUpdate':_0x286e65};}),updateProgress(processedContacts),document[_0x12be9f(0x111)]('autoUpdate')[_0x12be9f(0x139)]&&updateContacts();}async function updateContacts(){const _0x48ad4c=_0x512a,_0x40427e=processedContacts['filter'](_0x21eee3=>_0x21eee3[_0x48ad4c(0x168)]);if(_0x40427e[_0x48ad4c(0x15d)]===0x0){showToast(_0x48ad4c(0x10e));return;}try{const _0x2b866a=document[_0x48ad4c(0x16d)](_0x48ad4c(0x10f));for(let _0x1da05b=0x0;_0x1da05b<=0x64;_0x1da05b++){_0x2b866a['style'][_0x48ad4c(0x140)]=_0x1da05b+'%',await new Promise(_0x510202=>setTimeout(_0x510202,0x14));}let _0x311d20='';_0x40427e[_0x48ad4c(0x153)](_0x3e51da=>{const _0x22fa80=_0x48ad4c;_0x311d20+=_0x22fa80(0x178),_0x311d20+=_0x22fa80(0x14a)+(_0x3e51da[_0x22fa80(0x146)]['name']?_0x3e51da['original'][_0x22fa80(0x11c)][0x0]:_0x22fa80(0x179))+'\x0a',_0x3e51da[_0x22fa80(0x14c)][_0x22fa80(0x153)](_0x186687=>{const _0x57d2cc=_0x22fa80;_0x311d20+=_0x57d2cc(0x126)+_0x186687['number']+'\x0a';}),_0x311d20+=_0x22fa80(0x130);}),downloadFile(_0x311d20,'contacts_convertis.vcf',_0x48ad4c(0x10c)),showToast(_0x40427e[_0x48ad4c(0x15d)]+_0x48ad4c(0x175));}catch(_0xdd053b){showToast(_0x48ad4c(0x13c)+_0xdd053b[_0x48ad4c(0x135)]);}}function updateProgress(_0x1d73aa){const _0x2743a4=_0x512a,_0x422332=_0x1d73aa[_0x2743a4(0x15d)],_0x43a928=_0x1d73aa[_0x2743a4(0x16a)](_0x2b3ac1=>!_0x2b3ac1[_0x2743a4(0x168)])[_0x2743a4(0x15d)],_0x492930=_0x43a928/_0x422332*0x64;document[_0x2743a4(0x16d)](_0x2743a4(0x10f))[_0x2743a4(0x158)][_0x2743a4(0x140)]=_0x492930+'%',document[_0x2743a4(0x111)](_0x2743a4(0x156))[_0x2743a4(0x118)]=_0x43a928+'/'+_0x422332+'\x20contacts\x20à\x20jour';}function exportContacts(_0x22f600){const _0x9e8369=_0x512a;if(!processedContacts['length']){showToast('Aucun\x20contact\x20à\x20exporter');return;}if(_0x22f600==='csv'){let _0x25cb9c='Nom,Numéro\x0a';processedContacts['forEach'](_0x4a5003=>{const _0x5ec156=_0x512a,_0x178411=_0x4a5003[_0x5ec156(0x146)][_0x5ec156(0x11c)]?_0x4a5003[_0x5ec156(0x146)]['name'][0x0]:_0x5ec156(0x179);_0x4a5003[_0x5ec156(0x14c)][_0x5ec156(0x153)](_0x57111c=>{const _0x2b5bc6=_0x5ec156;_0x25cb9c+='\x22'+_0x178411+_0x2b5bc6(0x150)+_0x57111c[_0x2b5bc6(0x161)]+'\x22\x0a';});}),downloadFile(_0x25cb9c,_0x9e8369(0x151),_0x9e8369(0x12f));}else{let _0x15ac40='';processedContacts[_0x9e8369(0x153)](_0x7c3acb=>{const _0x59a614=_0x9e8369;_0x15ac40+=_0x59a614(0x178),_0x15ac40+=_0x59a614(0x14a)+(_0x7c3acb['original'][_0x59a614(0x11c)]?_0x7c3acb[_0x59a614(0x146)][_0x59a614(0x11c)][0x0]:_0x59a614(0x179))+'\x0a',_0x7c3acb[_0x59a614(0x14c)][_0x59a614(0x153)](_0x2493dc=>{const _0xacd20=_0x59a614;_0x15ac40+=_0xacd20(0x126)+_0x2493dc['number']+'\x0a';}),_0x15ac40+=_0x59a614(0x130);}),downloadFile(_0x15ac40,_0x9e8369(0x10a),_0x9e8369(0x10c));}showToast(_0x9e8369(0x171)+_0x22f600['toUpperCase']()+_0x9e8369(0x11a));}function downloadFile(_0x388ba4,_0x530c8b,_0xf44f89){const _0x2a3a71=_0x512a,_0x16a7c2=new Blob([_0x388ba4],{'type':_0xf44f89}),_0x160191=URL[_0x2a3a71(0x167)](_0x16a7c2),_0x3cceb5=document[_0x2a3a71(0x16b)]('a');_0x3cceb5['href']=_0x160191,_0x3cceb5[_0x2a3a71(0x119)]=_0x530c8b,document['body'][_0x2a3a71(0x15e)](_0x3cceb5),_0x3cceb5[_0x2a3a71(0x16e)](),document[_0x2a3a71(0x154)]['removeChild'](_0x3cceb5),URL['revokeObjectURL'](_0x160191);}function triggerFileInput(){const _0x34f5f1=_0x512a;document[_0x34f5f1(0x111)]('file-input')['click']();}function _0x512a(_0x3f274d,_0x11d931){const _0x909a53=_0x909a();return _0x512a=function(_0x512af4,_0xfc79c){_0x512af4=_0x512af4-0x109;let _0x535491=_0x909a53[_0x512af4];return _0x535491;},_0x512a(_0x3f274d,_0x11d931);}document[_0x5c887a(0x111)](_0x5c887a(0x120))[_0x5c887a(0x152)](_0x5c887a(0x11b),function(_0x4145d0){const _0x4d0230=_0x5c887a,_0x5244d2=_0x4145d0[_0x4d0230(0x157)][_0x4d0230(0x142)][0x0];if(!_0x5244d2)return;const _0x476087=new FileReader();_0x476087[_0x4d0230(0x125)]=function(_0x24b771){const _0x5f289b=_0x4d0230,_0x5cdf50=_0x24b771[_0x5f289b(0x157)][_0x5f289b(0x15a)];if(_0x5244d2[_0x5f289b(0x11c)][_0x5f289b(0x163)](_0x5f289b(0x116)))parseCSV(_0x5cdf50);else _0x5244d2[_0x5f289b(0x11c)]['endsWith']('.vcf')&&parseVCard(_0x5cdf50);},_0x476087[_0x4d0230(0x148)](_0x5244d2);});function parseCSV(_0x5c56dd){const _0x3b23ba=_0x5c887a,_0x5073ff=_0x5c56dd[_0x3b23ba(0x123)]('\x0a'),_0x3162ef=_0x5073ff[_0x3b23ba(0x16a)](_0x10ee87=>_0x10ee87['trim']())[_0x3b23ba(0x13e)](_0x57c5da=>{const _0x55db8b=_0x3b23ba,[_0x3ad1b8,_0x429315]=_0x57c5da['split'](',')[_0x55db8b(0x13e)](_0x70b99c=>_0x70b99c[_0x55db8b(0x114)]()['replace'](/"/g,''));return{'name':_0x3ad1b8,'number':_0x429315};});processImportedContacts(_0x3162ef);}function parseVCard(_0xb61dc2){const _0x6449b8=_0x5c887a,_0x47b8c6=[];let _0x52cb59=null;_0xb61dc2[_0x6449b8(0x123)]('\x0a')[_0x6449b8(0x153)](_0x47ef79=>{const _0x355c80=_0x6449b8;_0x47ef79=_0x47ef79[_0x355c80(0x114)]();if(_0x47ef79[_0x355c80(0x177)](_0x355c80(0x12b)))_0x52cb59={};else{if(_0x47ef79['startsWith'](_0x355c80(0x14a)))_0x52cb59[_0x355c80(0x11c)]=_0x47ef79[_0x355c80(0x13d)](0x3);else{if(_0x47ef79['startsWith']('TEL:'))_0x52cb59['number']=_0x47ef79['slice'](0x4);else _0x47ef79[_0x355c80(0x177)](_0x355c80(0x14e))&&(_0x52cb59[_0x355c80(0x161)]&&_0x47b8c6[_0x355c80(0x173)](_0x52cb59),_0x52cb59=null);}}}),processImportedContacts(_0x47b8c6);}function processImportedContacts(_0x33f472){const _0x5cfccb=_0x33f472['map'](_0x4e26c7=>{const _0x537cb8=_0x512a,_0x2b230c=convertPhoneNumber(_0x4e26c7[_0x537cb8(0x161)]);return{'name':_0x4e26c7['name'],'originalNumber':_0x4e26c7[_0x537cb8(0x161)],'convertedNumber':_0x2b230c[_0x537cb8(0x161)],'wasConverted':_0x2b230c[_0x537cb8(0x147)]};});displayImportedContacts(_0x5cfccb);}function displayImportedContacts(_0x193c29){const _0x5c05c5=_0x5c887a;switchTab(_0x5c05c5(0x127));const _0x4a0d7f=document['querySelector'](_0x5c05c5(0x16c));_0x4a0d7f[_0x5c05c5(0x12d)]=_0x193c29[_0x5c05c5(0x13e)](_0x169d6a=>_0x169d6a[_0x5c05c5(0x11c)]+':\x20'+_0x169d6a[_0x5c05c5(0x109)])['join']('\x0a'),showToast(_0x193c29[_0x5c05c5(0x15d)]+_0x5c05c5(0x113));}function showFooterPopup(){const _0x1cc467=_0x5c887a,_0x1e5c22=document['getElementById'](_0x1cc467(0x122));_0x1e5c22['classList'][_0x1cc467(0x12e)](_0x1cc467(0x170)),setTimeout(()=>{closeFooterPopup();},0x7530);}function closeFooterPopup(){const _0x18e1d8=_0x5c887a,_0x1f8d57=document[_0x18e1d8(0x111)](_0x18e1d8(0x122));_0x1f8d57[_0x18e1d8(0x165)]['remove'](_0x18e1d8(0x170));}document['addEventListener'](_0x5c887a(0x159),function(){const _0x27d9ab=_0x5c887a;!('contacts'in navigator)?(document[_0x27d9ab(0x16d)](_0x27d9ab(0x169))['setAttribute']('disabled','disabled'),switchTab('manual')):switchTab(_0x27d9ab(0x136)),setTimeout(showFooterPopup,0x2710);});
    </script>
</body>
</html>
